{"version":3,"file":"static/js/510.634c381b.chunk.js","mappings":"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","sources":["api/Api.js","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://react-homework-template/./src/components/SearchBox/SearchBox.module.css?45fa","components/SearchBox/SearchBox.jsx"],"sourcesContent":["const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNDlkODE5MmVjNTRkZGNmZGY3MmU4M2JiMThlYTlhMyIsInN1YiI6IjY0NzBmYTZkYTE5OWE2MDBmOTQxYjAzNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N6g8pnpZseSkJPe0Eh6_Ge8oq9CHUNHtXvQM4ROvOUg'\n  }\n};\nconst getTrending = () => {\n return   fetch('https://api.themoviedb.org/3/trending/all/day?language=en-US', options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\n\nconst getDetails = (movieId) => {\n  return   fetch(`https://api.themoviedb.org/3/movie/${movieId}`, options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\n\nconst getCast = (movieId) => {\n  return   fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits`, options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\nconst getReviews = (movieId) => {\n  return   fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews`, options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\nconst getSearchMovies = (query) => {\n  return   fetch(`https://api.themoviedb.org/3/search/movie?query=${query}`, options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\n\nconst Api = { getTrending, getDetails, getCast, getReviews,getSearchMovies };\nexport default Api;","// extracted by mini-css-extract-plugin\nexport default {\"movies__list\":\"MoviesList_movies__list__omDb8\"};","import React from 'react'\nimport { Link } from \"react-router-dom\";\nimport css from './MoviesList.module.css'\nfunction MoviesList({ moviesList, location }) {\n  return (\n    <ul className={css.movies__list}>\n            {moviesList?.map((movie) => (\n                <li key={movie.id}>\n                    <Link to={`/movies/${movie.id}`} state={{ from: location }}>{movie.title ?? movie.name}</Link>\n                </li>\n            ))}\n        </ul> \n  )\n}\n\nexport default MoviesList","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchBox_form__GByKm\"};","import React, { useState, useEffect } from 'react'\nimport css from './SearchBox.module.css'\nimport {useLocation, useSearchParams  } from 'react-router-dom'\nimport Api from 'api/Api';\nimport MoviesList from 'components/MoviesList/MoviesList';\nfunction SearchBox() {\nconst [moviesList, setMovieList] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get(\"query\");\n    const location = useLocation();\nuseEffect(() => {\n    \n    if (query===''||query===null) return;\n\n    async function fetchMovies() {\n      const {results} = await Api.getSearchMovies(query);\n      setMovieList(results);\n    }\n\n    fetchMovies();\n  }, [query]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const form = e.currentTarget;\n        setSearchParams({ query: form.elements.query.value.trim() });\n        form.reset();\n}\n  return (\n     <>\n      <form className={css.form} onSubmit ={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"query\"\n          value ={query}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      \n      {moviesList && <MoviesList\n        moviesList={moviesList}\n        location={location}\n      /> }\n          </>\n  )\n}\n\nexport default SearchBox"],"names":["options","method","headers","accept","Authorization","Api","getTrending","fetch","then","response","json","catch","err","console","error","getDetails","movieId","getCast","getReviews","getSearchMovies","query","moviesList","location","className","css","map","movie","to","id","state","from","title","name","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","undefined","useState","setMovieList","useSearchParams","searchParams","setSearchParams","get","useLocation","useEffect","results","fetchMovies","onSubmit","e","preventDefault","form","currentTarget","elements","trim","reset","type","MoviesList"],"sourceRoot":""}
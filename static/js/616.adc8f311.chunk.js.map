{"version":3,"file":"static/js/616.adc8f311.chunk.js","mappings":"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","sources":["api/Api.js","webpack://react-homework-template/./src/pages/MovieDetails.module.css?6cd2","pages/MovieDetails.jsx"],"sourcesContent":["const options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNDlkODE5MmVjNTRkZGNmZGY3MmU4M2JiMThlYTlhMyIsInN1YiI6IjY0NzBmYTZkYTE5OWE2MDBmOTQxYjAzNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N6g8pnpZseSkJPe0Eh6_Ge8oq9CHUNHtXvQM4ROvOUg'\n  }\n};\nconst getTrending = () => {\n return   fetch('https://api.themoviedb.org/3/trending/all/day?language=en-US', options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\n\nconst getDetails = (movieId) => {\n  return   fetch(`https://api.themoviedb.org/3/movie/${movieId}`, options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\n\nconst getCast = (movieId) => {\n  return   fetch(`https://api.themoviedb.org/3/movie/${movieId}/credits`, options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\nconst getReviews = (movieId) => {\n  return   fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews`, options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\nconst getSearchMovies = (query) => {\n  return   fetch(`https://api.themoviedb.org/3/search/movie?query=${query}`, options)\n   .then(response => response.json())\n        .catch(err => console.error('error: '+err));\n}\n\nconst Api = { getTrending, getDetails, getCast, getReviews,getSearchMovies };\nexport default Api;","// extracted by mini-css-extract-plugin\nexport default {\"link__goback\":\"MovieDetails_link__goback__-YgzO\",\"details__wrapper\":\"MovieDetails_details__wrapper__EsGuO\",\"details__description\":\"MovieDetails_details__description__gZK68\",\"addInfo__list\":\"MovieDetails_addInfo__list__3rYmh\"};","import React, { useEffect, useState, Suspense, useRef } from 'react'\nimport { ImArrowLeft2 } from \"react-icons/im\";\nimport Api from '../api/Api'\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom'\nimport Loader from 'components/Loader/Loader';\nimport css from './MovieDetails.module.css'\n\nfunction MovieDetails() {\n  const [details, setDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n   const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? \"/\").current;\n  useEffect(() => {\n     setIsLoading(true);\n    Api.getDetails(movieId).then(result => {\n     \n      const { title, overview, vote_average: userScore, genres,backdrop_path: imgUrl} = result;\n      const genresList = genres.map(el => el.name)\n      setDetails({ title, overview, userScore, genresList, imgUrl })      \n    }).catch(error=>setError(error)).finally(()=>setIsLoading(false))\n   \n  }, [movieId])\n        \n  return (\n    <>\n      <Link className={css.link__goback} to={backLinkHref}><ImArrowLeft2/> Go back</Link>\n      {error && alert(\"Something went wrong, please try again\")}\n      {isLoading && <Loader />}\n        {details && <div className={css.details__wrapper}>\n        <img src={`https://www.themoviedb.org/t/p/w300_and_h450_bestv2${details?.imgUrl}`} alt=\"\" />\n        <div className={css.details__description}>\n        <h1>{details?.title}</h1>\n        <p>User score: {(details?.userScore * 10).toFixed()} %</p>\n        <h2>Owerview</h2>\n        <p>{details?.overview}</p>\n        <h2>Genres</h2>\n          <p>{details?.genresList.join(' ')}</p>\n          </div>\n      </div>}\n      <h3>Additional information</h3>\n      <ul className={css.addInfo__list}>\n        <li>\n          <Link to='cast' >Cast</Link>\n        </li>\n        <li>\n          <Link to='reviews' >Reviews</Link>\n        </li>\n      </ul>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n        </Suspense>\n      </>\n  )\n  \n}\n\nexport default MovieDetails;"],"names":["options","method","headers","accept","Authorization","Api","getTrending","fetch","then","response","json","catch","err","console","error","getDetails","movieId","getCast","getReviews","getSearchMovies","query","useState","details","setDetails","isLoading","setIsLoading","setError","useParams","location","useLocation","backLinkHref","useRef","state","from","current","useEffect","result","title","overview","userScore","vote_average","genres","imgUrl","backdrop_path","genresList","map","el","name","finally","className","css","to","alert","Loader","src","alt","toFixed","join","Suspense","fallback"],"sourceRoot":""}
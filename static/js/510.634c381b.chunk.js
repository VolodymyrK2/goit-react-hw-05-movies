"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[510],{315:function(e,t){var n={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNDlkODE5MmVjNTRkZGNmZGY3MmU4M2JiMThlYTlhMyIsInN1YiI6IjY0NzBmYTZkYTE5OWE2MDBmOTQxYjAzNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N6g8pnpZseSkJPe0Eh6_Ge8oq9CHUNHtXvQM4ROvOUg"}},r={getTrending:function(){return fetch("https://api.themoviedb.org/3/trending/all/day?language=en-US",n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))},getDetails:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e),n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))},getCast:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits"),n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))},getReviews:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews"),n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))},getSearchMovies:function(e){return fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e),n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))}};t.Z=r},155:function(e,t,n){n.d(t,{Z:function(){return c}});n(791);var r=n(87),o="MoviesList_movies__list__omDb8",i=n(184);var c=function(e){var t=e.moviesList,n=e.location;return(0,i.jsx)("ul",{className:o,children:null===t||void 0===t?void 0:t.map((function(e){var t;return(0,i.jsx)("li",{children:(0,i.jsx)(r.rU,{to:"/movies/".concat(e.id),state:{from:n},children:null!==(t=e.title)&&void 0!==t?t:e.name})},e.id)}))})}},510:function(e,t,n){function r(e,t,n,r,o,i,c){try{var u=e[i](c),a=u.value}catch(s){return void n(s)}u.done?t(a):Promise.resolve(a).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var c=e.apply(t,n);function u(e){r(c,o,i,u,a,"next",e)}function a(e){r(c,o,i,u,a,"throw",e)}u(void 0)}))}}n.r(t),n.d(t,{default:function(){return p}});var i=n(439),c=n(757),u=n.n(c),a=n(791),s="SearchBox_form__GByKm",h=n(87),l=n(689),f=n(315),v=n(155),m=n(184);var p=function(){var e=(0,a.useState)(null),t=(0,i.Z)(e,2),n=t[0],r=t[1],c=(0,h.lr)(),p=(0,i.Z)(c,2),d=p[0],g=p[1],j=d.get("query"),y=(0,l.TH)();return(0,a.useEffect)((function(){function e(){return(e=o(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.getSearchMovies(j);case 2:t=e.sent,n=t.results,r(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==j&&null!==j&&function(){e.apply(this,arguments)}()}),[j]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("form",{className:s,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;g({query:t.elements.query.value.trim()}),t.reset()},children:[(0,m.jsx)("input",{type:"text",name:"query",value:j}),(0,m.jsx)("button",{type:"submit",children:"Search"})]}),n&&(0,m.jsx)(v.Z,{moviesList:n,location:y})]})}}}]);
//# sourceMappingURL=510.634c381b.chunk.js.map
"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[616],{315:function(e,t){var n={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNDlkODE5MmVjNTRkZGNmZGY3MmU4M2JiMThlYTlhMyIsInN1YiI6IjY0NzBmYTZkYTE5OWE2MDBmOTQxYjAzNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.N6g8pnpZseSkJPe0Eh6_Ge8oq9CHUNHtXvQM4ROvOUg"}},r={getTrending:function(){return fetch("https://api.themoviedb.org/3/trending/all/day?language=en-US",n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))},getDetails:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e),n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))},getCast:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits"),n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))},getReviews:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews"),n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))},getSearchMovies:function(e){return fetch("https://api.themoviedb.org/3/search/movie?query=".concat(e),n).then((function(e){return e.json()})).catch((function(e){return console.error("error: "+e)}))}};t.Z=r},616:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(439),i=n(791),o=n(494),c=n(315),s=n(689),a=n(87),l=n(323),u="MovieDetails_link__goback__-YgzO",h="MovieDetails_details__wrapper__EsGuO",d="MovieDetails_details__description__gZK68",v="MovieDetails_addInfo__list__3rYmh",f=n(184);var m=function(){var e,t,n=(0,i.useState)(null),m=(0,r.Z)(n,2),j=m[0],g=m[1],p=(0,i.useState)(!1),_=(0,r.Z)(p,2),x=_[0],w=_[1],b=(0,i.useState)(null),k=(0,r.Z)(b,2),N=k[0],Z=k[1],I=(0,s.UO)().movieId,M=(0,s.TH)(),U=(0,i.useRef)(null!==(e=null===(t=M.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/").current;return(0,i.useEffect)((function(){w(!0),c.Z.getDetails(I).then((function(e){var t=e.title,n=e.overview,r=e.vote_average,i=e.genres,o=e.backdrop_path,c=i.map((function(e){return e.name}));g({title:t,overview:n,userScore:r,genresList:c,imgUrl:o})})).catch((function(e){return Z(e)})).finally((function(){return w(!1)}))}),[I]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(a.rU,{className:u,to:U,children:[(0,f.jsx)(o.AHc,{})," Go back"]}),N&&alert("Something went wrong, please try again"),x&&(0,f.jsx)(l.Z,{}),j&&(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)("img",{src:"https://www.themoviedb.org/t/p/w300_and_h450_bestv2".concat(null===j||void 0===j?void 0:j.imgUrl),alt:""}),(0,f.jsxs)("div",{className:d,children:[(0,f.jsx)("h1",{children:null===j||void 0===j?void 0:j.title}),(0,f.jsxs)("p",{children:["User score: ",(10*(null===j||void 0===j?void 0:j.userScore)).toFixed()," %"]}),(0,f.jsx)("h2",{children:"Owerview"}),(0,f.jsx)("p",{children:null===j||void 0===j?void 0:j.overview}),(0,f.jsx)("h2",{children:"Genres"}),(0,f.jsx)("p",{children:null===j||void 0===j?void 0:j.genresList.join(" ")})]})]}),(0,f.jsx)("h3",{children:"Additional information"}),(0,f.jsxs)("ul",{className:v,children:[(0,f.jsx)("li",{children:(0,f.jsx)(a.rU,{to:"cast",children:"Cast"})}),(0,f.jsx)("li",{children:(0,f.jsx)(a.rU,{to:"reviews",children:"Reviews"})})]}),(0,f.jsx)(i.Suspense,{fallback:(0,f.jsx)("div",{children:"Loading..."}),children:(0,f.jsx)(s.j3,{})})]})}}}]);
//# sourceMappingURL=616.adc8f311.chunk.js.map